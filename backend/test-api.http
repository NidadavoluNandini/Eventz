### Variables
@baseUrl = http://localhost:3000/api
@token = YOUR_JWT_TOKEN_HERE
@eventId = YOUR_EVENT_ID_HERE
@registrationId = YOUR_REGISTRATION_ID_HERE

### ============================================
### AUTHENTICATION - ORGANIZER
### ============================================

### 1. Register Organizer
POST {{baseUrl}}/auth/organizer/register
Content-Type: application/json

{
  "name": "Test Events Company",
  "email": "test@eventsorganizer.com",
  "password": "SecurePass123!"
}

### 2. Login Organizer (Save the token!)
POST {{baseUrl}}/auth/organizer/login
Content-Type: application/json

{
  "email": "test@eventsorganizer.com",
  "password": "SecurePass123!"
}

### ============================================
### EVENTS MANAGEMENT
### ============================================

### 3. Create Event (PROTECTED)
POST {{baseUrl}}/events
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Tech Conference 2025",
  "description": "Join us for the biggest tech conference featuring industry leaders, workshops, and networking.",
  "startDate": "2025-08-25",
  "endDate": "2025-08-25",
  "startTime": "10:00",
  "endTime": "18:00",
  "location": "Hyderabad Convention Center",
  "city": "Hyderabad",
  "category": "Technology",
  "capacity": 500,
  "bannerUrl": "https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800",
  "tickets": [
    {
      "type": "FREE",
      "name": "Free Pass",
      "price": 0,
      "quantity": 200,
      "description": "Access to main sessions"
    },
    {
      "type": "EARLY_BIRD",
      "name": "Early Bird",
      "price": 499,
      "quantity": 150,
      "description": "Includes lunch and workshops"
    },
    {
      "type": "VIP",
      "name": "VIP Pass",
      "price": 1999,
      "quantity": 50,
      "description": "All access + exclusive dinner"
    }
  ]
}

### 4. Get All Events (PUBLIC)
GET {{baseUrl}}/events

### 5. Get Events by Category (PUBLIC)
GET {{baseUrl}}/events?category=Technology

### 6. Get Events by City (PUBLIC)
GET {{baseUrl}}/events?city=Hyderabad

### 7. Get Single Event (PUBLIC)
GET {{baseUrl}}/events/{{eventId}}

### 8. Update Event (PROTECTED)
PUT {{baseUrl}}/events/{{eventId}}
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Tech Conference 2025 - Updated",
  "capacity": 600
}

### 9. Publish Event (PROTECTED)
PATCH {{baseUrl}}/events/{{eventId}}/publish
Authorization: Bearer {{token}}

### 10. Unpublish Event (PROTECTED)
PATCH {{baseUrl}}/events/{{eventId}}/unpublish
Authorization: Bearer {{token}}

### 11. Mark Event Complete (PROTECTED)
PATCH {{baseUrl}}/events/{{eventId}}/complete
Authorization: Bearer {{token}}

### 12. Get My Events (PROTECTED)
GET {{baseUrl}}/events/organizer/me
Authorization: Bearer {{token}}

### 13. Delete Event (PROTECTED)
DELETE {{baseUrl}}/events/{{eventId}}
Authorization: Bearer {{token}}

### ============================================
### USER REGISTRATION FLOW
### ============================================

### 14. Initiate Registration (Send OTP)
POST {{baseUrl}}/registrations/initiate
Content-Type: application/json

{
  "eventId": "{{eventId}}",
  "userName": "Alice Johnson",
  "userEmail": "alice@example.com",
  "userPhone": "+919876543210",
  "ticketType": "FREE"
}

### 15. Verify OTP
POST {{baseUrl}}/registrations/verify-otp
Content-Type: application/json

{
  "registrationId": "{{registrationId}}",
  "otp": 123456
}

### 16. Resend OTP
POST {{baseUrl}}/registrations/resend-otp
Content-Type: application/json

{
  "registrationId": "{{registrationId}}"
}

### 17. Get Registration by ID
GET {{baseUrl}}/registrations/{{registrationId}}

### 18. Get User Registrations
GET {{baseUrl}}/registrations/user/+919876543210

### 19. Get Event Registrations (PROTECTED)
GET {{baseUrl}}/registrations/event/{{eventId}}
Authorization: Bearer {{token}}

### ============================================
### PAYMENT INTEGRATION
### ============================================

### 20. Create Payment Order
POST {{baseUrl}}/payments/registration/create-order
Content-Type: application/json

{
  "registrationId": "{{registrationId}}"
}

### 21. Verify Payment
POST {{baseUrl}}/payments/registration/verify
Content-Type: application/json

{
  "registrationId": "{{registrationId}}",
  "razorpay_order_id": "order_ABC123xyz",
  "razorpay_payment_id": "pay_XYZ789abc",
  "razorpay_signature": "a1b2c3d4e5f6..."
}

### ============================================
### DASHBOARD & ANALYTICS
### ============================================

### 22. Get Organizer Analytics (PROTECTED)
GET {{baseUrl}}/dashboard/analytics
Authorization: Bearer {{token}}

### 23. Get Event Analytics (PROTECTED)
GET {{baseUrl}}/dashboard/events/{{eventId}}/analytics
Authorization: Bearer {{token}}

### 24. Get Event Users (PROTECTED)
GET {{baseUrl}}/dashboard/events/{{eventId}}/users
Authorization: Bearer {{token}}

### 25. Get Event Users by Ticket Type (PROTECTED)
GET {{baseUrl}}/dashboard/events/{{eventId}}/users?ticketType=EARLY_BIRD
Authorization: Bearer {{token}}

### 26. Get Event Users by Payment Status (PROTECTED)
GET {{baseUrl}}/dashboard/events/{{eventId}}/users?paymentStatus=PAID
Authorization: Bearer {{token}}

### ============================================
### TESTING SCENARIOS
### ============================================

### SCENARIO 1: Complete FREE Ticket Flow
# Step 1: Create event with FREE tickets (endpoint #3)
# Step 2: Publish event (endpoint #9)
# Step 3: Initiate registration with FREE ticket (endpoint #14)
# Step 4: Check email for OTP
# Step 5: Verify OTP (endpoint #15)
# Step 6: Check email for ticket!

### SCENARIO 2: Complete PAID Ticket Flow
# Step 1: Create event with PAID tickets (endpoint #3)
# Step 2: Publish event (endpoint #9)
# Step 3: Initiate registration with EARLY_BIRD ticket (endpoint #14)
# Step 4: Verify OTP (endpoint #15) - will return requiresPayment: true
# Step 5: Create payment order (endpoint #20)
# Step 6: Use Razorpay test credentials to complete payment
# Step 7: Verify payment (endpoint #21)
# Step 8: Check email for ticket!

### SCENARIO 3: Dashboard Analytics
# Step 1: Complete several registrations
# Step 2: Get organizer analytics (endpoint #22)
# Step 3: Get event-specific analytics (endpoint #23)
# Step 4: View registered users (endpoint #24)
